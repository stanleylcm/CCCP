@model CCCP.ViewModel.IncidentSystemBilling

@{
    ViewBag.Title = "Details";
    string IncidentType = "System(Billing)";
}

<script>
	$(function() {
		$('#accordion').on('show.bs.collapse', function () {
			$('#HistoryIcon').removeClass("fa-angle-left");
			$('#HistoryIcon').addClass("fa-angle-down");
		});
		$('#accordion').on('hide.bs.collapse', function () {
			$('#HistoryIcon').removeClass("fa-angle-down");
			$('#HistoryIcon').addClass("fa-angle-left");
		});

		$('input[type="checkbox"]').each(function() {
			value = $(this).val();
			$(this).checkbox().chbxChecked(value == '1' ? true : (value == '0' ? false : null));
		});

		$('div[id="list"] table td:nth-child(5),th:nth-child(5)').hide();
		$('div[id="list"] table th:nth-child(5),td:nth-child(5)').hide();
	});
</script>

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        <a href="@Url.Action("Index", "IncidentSystemBilling")">Incident - @IncidentType</a>
    </h1>
</section>

<!-- Main content -->
<section class="content">
    <!-- Small boxes (Stat box) -->
    <div class="row">
        <div class="col-lg-12">
            <div class="pull-left">
                <div class="row">
                    <div class="col-lg-8">
                        <span class="pull-left">@Html.DisplayNameFor(model => model.IncidentNo)</span>
                        <span class="pull-right">@Html.DisplayFor(model => model.IncidentNo)</span>
                    </div>
                    <div class="col-lg-8">
                        <span class="pull-left">@Html.DisplayNameFor(model => model.GeneralEnquiryId)</span>
                        <a href="#"><span class="pull-right">@Html.DisplayFor(model => model.GeneralEnquiryId)</span></a>
                    </div>
                    <div class="col-lg-8">
                        <span class="pull-left">@Html.DisplayNameFor(model => model.CrisisId)</span>
                        <a href="#"><span class="pull-right">@Html.DisplayFor(model => model.CrisisId)</span></a>
                    </div>
                </div>
            </div>

            <div class="pull-right">
                <div class="row">
                    <div class="col-lg-8">
                        <span class="pull-left">@Html.DisplayNameFor(model => model.IncidentStatus)</span>
                        <span class="pull-right">@Html.DisplayFor(model => model.IncidentStatus)</span>
                    </div>
                    <div class="col-lg-8">
                        <span class="pull-left">@Html.DisplayNameFor(model => model.CreatedDateTime)</span>
                        <span class="pull-right">@Html.DisplayFor(model => model.CreatedDateTime)</span>
                    </div>
                    <div class="col-lg-8">
                        <span class="pull-left">@Html.DisplayNameFor(model => model.LastUpdatedDateTime)</span>
                        <span class="pull-right">@Html.DisplayFor(model => model.LastUpdatedDateTime)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <!-- content -->

            <div class="pull-right">
                <button class="btn btn-primary" type="button" onclick="window.location = '@Url.Action("Edit", "IncidentSystemBilling", new { id = Model.IncidentSystemBillingId })';">Edit</button>
            </div>

            <ul class="nav nav-pills">
                <li class="active"><a href="#IncidentDetails" data-toggle="tab">Incident Details</a></li>
                <li><a href="#Checklists" data-toggle="tab">Checklists</a></li>
                <li><a href="#IncidentEnquiry" data-toggle="tab">Chatroom</a></li>
                <li><a href="#LinkedIncident" data-toggle="tab">Linked Incidents</a></li>
            </ul>

            <div id="myTabContent" class="tab-content">

                <div class="tab-pane fade active in" id="IncidentDetails">
                    <div class="box box-primary">
                        <div class="box-body">
                            <div class="row">
                                <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.IssueDateTime)</label></div></div>
                                <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.IssueDateTime)</div></div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.LevelOfSeverity)</label></div></div>
                                <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.LevelOfSeverity)</div></div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.IncidentStatus)</label></div></div>
                                <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.IncidentStatus)</div></div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.CrisisId)</label></div></div>
                                <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.CrisisId)</div></div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.IncidentBackground)</label></div></div>
                                <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.IncidentBackground)</div></div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.IsDrillMode)</label></div></div>
                                <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.IsDrillMode)</div></div>
                            </div>

                            <fieldset class="scheduler-border">
                                <legend class="scheduler-border">Details</legend>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.ProblemArea)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.ProblemArea)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.PossibleCause)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.PossibleCause)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.BillingErrorSeriousness)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.BillingErrorSeriousness)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.ExpectedAffectedCustomerBill)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.ExpectedAffectedCustomerBill)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.ContactedBy)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.ContactedBy)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.Impact)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.Impact)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.StatusUpdate)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.StatusUpdate)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.RequireMitigatingAction)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.RequireMitigatingAction)</div></div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-6"><div class="pull-right"><label>@Html.DisplayNameFor(model => model.MitigatingAction)</label></div></div>
                                    <div class="col-lg-6"><div class="pull-left">@Html.DisplayFor(model => model.MitigatingAction)</div></div>
                                </div>
                            </fieldset>

                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>

                <div class="tab-pane fade" id="Checklists">
                    <div class="box box-primary">
                        <div class="box-body">
                            <div class="col-lg-2">
                                <div style="border:1px solid black; padding: 5px 10px 5px 10px;">
                                    <fieldset class="scheduler-border">
                                        <legend class="scheduler-border">Legend</legend>

                                        <div class="row">
                                            <div class="col-lg-2"><div class="bootstrap-checkbox"></div></div>
                                            <div class="col-lg-10">Pending</div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-2"><div class="bootstrap-checkbox"><i class="fa fa-minus"></i></div></div>
                                            <div class="col-lg-10">In Progress</div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-2"><div class="bootstrap-checkbox"><i class="fa fa-check"></i></div></div>
                                            <div class="col-lg-10">Completed</div>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <ul class="nav nav-pills">
                                    <li class="active"><a href="#list1" data-toggle="tab">Check List 1</a></li>
                                    <li><a href="#list2" data-toggle="tab">Check List 2</a></li>
                                    <li><a href="#list3" data-toggle="tab">Check List 3</a></li>
                                </ul>
                                <div id="TabList" class="tab-content">
                                    <div class="tab-pane fade active in" id="list1">
                                        <table class="table table-striped table-bordered" cellspacing="0" width="100%">
                                            <thead>
                                            <th></th>
                                            <th>Description</th>
                                            <th>Completed By</th>
                                            <th>Completed Datetime</th>
                                            <th>Threshold</th>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><input type="checkbox" value="1"></td>
                                                    <td>Item 1.1</td>
                                                    <td>Lee Tai Man</td>
                                                    <td>2015-11-19 10:00</td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 1.2</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="2"></td>
                                                    <td>Item 1.3</td>
                                                    <td>Lee Siu Sum</td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="1"></td>
                                                    <td>Item 1.4</td>
                                                    <td>Lee Siu Man</td>
                                                    <td>2015-11-19 17:20</td>
                                                    <td>45min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 1.5</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>30min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 1.6</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane fade" id="list2">
                                        <table class="table table-striped table-bordered" cellspacing="0" width="100%">
                                            <thead>
                                            <th></th>
                                            <th>Description</th>
                                            <th>Completed By</th>
                                            <th>Completed Datetime</th>
                                            <th>Threshold</th>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><input type="checkbox" value="1"></td>
                                                    <td>Item 2.1</td>
                                                    <td>Lee Tai Man</td>
                                                    <td>2015-11-19 10:00</td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 2.2</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="2"></td>
                                                    <td>Item 2.3</td>
                                                    <td>Mo Tak Tan</td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="1"></td>
                                                    <td>Item 2.4</td>
                                                    <td>Lee Siu Man</td>
                                                    <td>2015-11-19 17:20</td>
                                                    <td>45min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 2.5</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>30min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="2"></td>
                                                    <td>Item 2.6</td>
                                                    <td>Maria Chan</td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane fade" id="list3">
                                        <table class="table table-striped table-bordered" cellspacing="0" width="100%">
                                            <thead>
                                            <th></th>
                                            <th>Description</th>
                                            <th>Completed By</th>
                                            <th>Completed Datetime</th>
                                            <th>Threshold</th>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><input type="checkbox" value="1"></td>
                                                    <td>Item 3.1</td>
                                                    <td>Lee Tai Man</td>
                                                    <td>2015-11-19 10:00</td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 3.2</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="2"></td>
                                                    <td>Item 3.3</td>
                                                    <td>C.Y. Yeung</td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="1"></td>
                                                    <td>Item 3.4</td>
                                                    <td>Lee Siu Man</td>
                                                    <td>2015-11-19 17:20</td>
                                                    <td>45min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 3.5</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>30min</td>
                                                </tr>
                                                <tr>
                                                    <td><input type="checkbox" value="0"></td>
                                                    <td>Item 3.6</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td>15min</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2"></div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="IncidentEnquiry">
                    <div class="box box-primary">
                        <div class="box-body">
                            <div class="col-lg-2"></div>
                            <div class="col-lg-8">
                                <div id="chat" style="height: 400px;overflow-y: scroll;">
                                    <div class="bubble you">
                                        <label>Peter</label><br>
                                        What happened?<br>
                                        <h6 align="right">11:46</h6>
                                    </div>
                                    <div class="bubble me">
                                        Someone got cut.<br>
                                        <h6 align="right">11:52</h6>
                                    </div>
                                    <div class="bubble you">
                                        <label>John</label><br>
                                        Is it serious?<br>
                                        <h6 align="right">11:55</h6>
                                    </div>
                                </div>
                                <div id="SendMessage">
                                    <textarea rows="4" cols="150"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-2"></div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="LinkedIncident"><div class="box box-primary">
                    <div class="box-body">
                        <div class="col-lg-2"></div>
                        <div class="col-lg-8">
                            <div style="height: 400px">
                            </div>
                        </div>
                        <div class="col-lg-2"></div>
                    </div>
                </div>
            </div>

            <div class="panel-group" id="accordion">
                <div class="panel panel-default">
                    <a data-toggle="collapse" data-parent="#accordion" href="#History">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                History <i id="HistoryIcon" class="fa fa-angle-left"></i>
                            </h4>
                        </div>
                    </a>
                    <div id="History" class="panel-collapse collapse">
                        <div class="panel-body">
                            Incident has been Updated by Lee Siu Man on 2015-11-19 17:20<br />
                            Incident has been Updated by Lee Tai Man on 2015-11-19 10:00<br />
                            Incident has been Created by Alex Pierce on 2015-11-18 17:45<br />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section><!-- /.content -->